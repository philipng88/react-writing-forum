(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{248:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(8),l=a(7),o=a(38),r=a(164),i=a.n(r),d=a(6),m=a.n(d),u=a(14),p=a(57),f=a(21),E=a(46),b=a(13),y=a(19);t.default=Object(c.g)(e=>{const t=Object(n.useContext)(b.a),a=Object(n.useContext)(y.a),[r,d]=Object(n.useState)(!0),[h,w]=Object(n.useState)(),{id:g}=Object(c.f)();if(Object(n.useEffect)(()=>{const e=m.a.CancelToken.source();return(async()=>{try{const t=await m.a.get("/post/"+g,{cancelToken:e.token});w(t.data),d(!1)}catch(e){console.log(e.response.data)}})(),()=>e.cancel()},[g]),!r&&!h)return s.a.createElement(E.a,null);if(r)return s.a.createElement(u.a,{title:"..."},s.a.createElement(f.a,null));const{_id:N,createdDate:j,title:k,author:{avatar:x,username:O},body:v}=h,{loggedIn:I,user:{username:C,token:S}}=t;return s.a.createElement(u.a,{title:k},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h2",null,k),!!I&&C==O&&s.a.createElement("span",{className:"pt-2"},s.a.createElement(l.b,{to:`/post/${N}/edit`,className:"text-primary mr-2","data-tip":"Edit","data-for":"editIcon"},s.a.createElement("i",{className:"fas fa-edit"}))," ",s.a.createElement("span",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this post?"))try{"Success"==(await m.a.delete("/post/"+g,{data:{token:S}})).data&&(a({type:"flashMessage",value:"Successfully deleted post"}),e.history.push("/profile/"+C))}catch(e){console.log(e)}},className:"text-danger","data-tip":"Delete","data-for":"deleteIcon",style:{cursor:"pointer"}},s.a.createElement("i",{className:"fas fa-trash"})))),s.a.createElement("p",{className:"text-muted small mb-4"},s.a.createElement(l.b,{to:"/profile/"+O},s.a.createElement("img",{src:x,alt:O,className:"avatar-tiny"})),"Posted by"," ",s.a.createElement(l.b,{to:"/profile/"+O,className:"text-decoration-none"},O)," ","on ",Object(p.a)(j)),s.a.createElement("div",{className:"body-content"},s.a.createElement(i.a,{source:v,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})),s.a.createElement(o.a,{id:"editIcon",effect:"solid"}),s.a.createElement(o.a,{id:"deleteIcon",effect:"solid"}))})}}]);